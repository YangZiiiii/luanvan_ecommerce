<!DOCTYPE html>
<!-- saved from url=(0134)https://demos.themeselection.com/materio-bootstrap-html-admin-template/html/vertical-menu-template/pages-account-settings-account.html -->
<html lang="en" class="layout-navbar-fixed layout-compact dark-style layout-menu-fixed" dir="ltr"
   data-theme="theme-default" data-assets-path="../../assets/" data-template="vertical-menu-template" data-style="dark">
<script async="" src="./assets/js/gtm.js"></script>
<script src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/content/location/location.js"
   id="eppiocemhmnlbhjplcgkofciiegomcon"></script>
<script src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/libs/extend-native-history-api.js"></script>
<script src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/libs/requests.js"></script>

<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

   <meta name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />

   <title>
      Account settings - Account | Materio - Bootstrap Material Design Admin
      Template
   </title>

   <meta name="description" content="Start your development with a Dashboard for Bootstrap 5" />
   <meta name="keywords"
      content="dashboard, material, material design, bootstrap 5 dashboard, bootstrap 5 design, bootstrap 5" />
   <!-- Canonical SEO -->
   <link rel="canonical" href="https://themeselection.com/item/materio-bootstrap-html-admin-template/" />

   <!-- Favicon -->
   <link rel="icon" type="image/x-icon"
      href="https://demos.themeselection.com/materio-bootstrap-html-admin-template/assets/img/favicon/favicon.ico" />

   <!-- Fonts -->
   <link rel="preconnect" href="https://fonts.googleapis.com/" />
   <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
   <link href="./assets/css/css2.css" rel="stylesheet" />

   <!-- Icons -->
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
   <link rel="stylesheet" href="./assets/css/remixicon.css" />
   <link rel="stylesheet" href="./assets/css/flag-icons.css" />

   <!-- Menu waves for no-customizer fix -->
   <link rel="stylesheet" href="./assets/css/node-waves.css" />

   <!-- Core CSS -->

   <link rel="stylesheet" href="./assets/css/demo.css" />

   <!-- Vendors CSS -->
   <link rel="stylesheet" href="./assets/css/perfect-scrollbar.css" />
   <link rel="stylesheet" href="./assets/css/typeahead.css" />
   <link rel="stylesheet" href="./assets/css/select2.css" />
   <link rel="stylesheet" href="./assets/css/tagify.css" />
   <link rel="stylesheet" href="./assets/css/form-validation.css" />
   <link rel="stylesheet" href="./assets/css/animate.css" />
   <link rel="stylesheet" href="./assets/css/sweetalert2.css" />



   <!-- Helpers -->
   <script src="./assets/js/helpers.js"></script>

   <!-- Change Sever -->

   <Script src="./assets/js/change-sever.js"></Script>


   <!-- Template Navigation -->
   <script src="./assets/js/template/navigation.js"></script>

   <!-- Template Navbar -->

   <script src="./assets/js/template/navbar.js"></script>




   <!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
   <script src="./assets/js/config.js"></script>
   <link rel="stylesheet" type="text/css" href="./assets/css/core-dark.css" class="template-customizer-core-css" />
   <link rel="stylesheet" type="text/css" href="./assets/css/theme-semi-dark-dark.css"
      class="template-customizer-theme-css" />


</head>

<body __processed_c515fcc4-2eb4-4afe-a951-f131268be3dc__="true"
   bis_register="W3sibWFzdGVyIjp0cnVlLCJleHRlbnNpb25JZCI6ImVwcGlvY2VtaG1ubGJoanBsY2drb2ZjaWllZ29tY29uIiwiYWRibG9ja2VyU3RhdHVzIjp7IkRJU1BMQVkiOiJkaXNhYmxlZCIsIkZBQ0VCT09LIjoiZGlzYWJsZWQiLCJUV0lUVEVSIjoiZGlzYWJsZWQiLCJSRURESVQiOiJkaXNhYmxlZCIsIlBJTlRFUkVTVCI6ImRpc2FibGVkIiwiSU5TVEFHUkFNIjoiZGlzYWJsZWQiLCJMSU5LRURJTiI6ImRpc2FibGVkIiwiQ09ORklHIjoiZGlzYWJsZWQifSwidmVyc2lvbiI6IjIuMC4yMCIsInNjb3JlIjoyMDAyMH1d">


   <!-- Layout wrapper -->
   <div class="layout-wrapper layout-content-navbar" bis_skin_checked="1">
      <div class="layout-container" bis_skin_checked="1">
         <!-- Menu -->

         <navigation-main></navigation-main>
         <!-- / Menu -->

         <!-- Layout container -->
         <div class="layout-page" bis_skin_checked="1">
            <!-- Navbar -->
            <navbar-main></navbar-main>


            <!-- / Navbar -->

            <!-- Content wrapper -->
            <div class="content-wrapper" bis_skin_checked="1">
               <!-- Content -->

               <div class="container-xxl flex-grow-1 container-p-y" bis_skin_checked="1">
                  <div class="row fv-plugins-icon-container" bis_skin_checked="1">
                     <div class="col-md-12" bis_skin_checked="1">
                        <div class="nav-align-top" bis_skin_checked="1">
                           <ul class="nav nav-pills flex-column flex-md-row mb-6 gap-2 gap-lg-0">
                              <li class="nav-item">
                                 <a class="nav-link active waves-effect waves-light" href="javascript:void(0);"><i
                                       class="ri-group-line me-1_5"></i>Account</a>
                              </li>
                              <li class="nav-item">
                                 <a class="nav-link waves-effect waves-light"
                                    href="AccountSecurity.html"><i
                                       class="ri-lock-line me-1_5"></i>Security</a>
                              </li>
                              
                           </ul>
                        </div>
                        <div class="card mb-6" bis_skin_checked="1">
                           <!-- Account -->
                           <div class="card-body" bis_skin_checked="1">
                              <div class="d-flex align-items-start align-items-sm-center gap-6" bis_skin_checked="1">
                                 <img src="" alt="user-avatar"
                                    class="d-block w-px-100 h-px-100 rounded" id="uploadedAvatar" />
                                 <div class="button-wrapper" bis_skin_checked="1">
                                    <label for="upload"
                                       class="btn btn-sm btn-primary me-3 mb-4 waves-effect waves-light" tabindex="0">
                                       <span class="d-none d-sm-block">Upload new photo</span>
                                       <i class="ri-upload-2-line d-block d-sm-none"></i>
                                       <input type="file" id="upload" class="account-file-input" hidden=""
                                          accept="image/png, image/jpeg" />
                                    </label>
                                    <script>
                                       document.getElementById('upload').addEventListener('change', async function (e) {
                                          const file = e.target.files[0];
                                          if (!file) return;
                                          const userAdminId = localStorage.getItem("userAdminId");
                                          const formData = new FormData();
                                          formData.append('avatar', file);

                                          try {
                                             const res = await fetch(`http://${changeServer}:8080/api/v1/user/avatar/${userAdminId}`, {
                                                method: 'PUT',
                                                body: formData
                                             });
                                             const data = await res.json();
                                             if (res.ok && data.statusCode === 200 && data.data && data.data.avatarUrl) {
                                                document.getElementById("uploadedAvatar").src = data.data.avatarUrl;
                                                showToast("Cập nhật ảnh thành công!", true);
                                                setTimeout(() => location.reload(), 1000);
                                             } else {
                                                showToast("Cập nhật ảnh thất bại!");
                                             }
                                          } catch (err) {
                                             showToast("Có lỗi xảy ra khi cập nhật ảnh!");
                                             console.error(err);
                                          }
                                       });
                                    </script>
                                    <button type="button"
                                       class="btn btn-sm btn-outline-danger account-image-reset mb-4 waves-effect">
                                       <i class="ri-refresh-line d-block d-sm-none"></i>
                                       <span class="d-none d-sm-block">Reset</span>
                                    </button>

                                    <div bis_skin_checked="1">
                                       Allowed JPG, GIF or PNG. Max size of
                                       800K
                                    </div>
                                 </div>
                              </div>
                              <div id="toast-container" style="position: fixed; z-index: 9999;"></div>
                           </div>
                              
                              <script>
                                function showToast(message, isSuccess = false) {
                                  const toast = document.createElement('div');
                                  toast.style.minWidth = '200px';
                                  toast.style.marginBottom = '10px';
                                  toast.style.padding = '12px 20px';
                                  toast.style.borderRadius = '6px';
                                  toast.style.background = isSuccess ? '#28a745' : '#dc3545';
                                  toast.style.color = '#fff';
                                  toast.style.boxShadow = '0 2px 8px rgba(0,0,0,0.15)';
                                  toast.innerText = message;
                                  document.getElementById('toast-container').appendChild(toast);
                                 
                                  setTimeout(() => toast.remove(), 5000);
                                }

                                document.addEventListener("DOMContentLoaded", async function () {
                                  // Replace this with your actual userAdminId
                                  const userAdminId = localStorage.getItem("userAdminId");
                                  try {
                                    const response = await fetch(`http://${changeServer}:8080/api/v1/user/uid/${userAdminId}`);
                                    if (!response.ok) throw new Error("Network response was not ok");
                                    const result = await response.json();
                                    if (result.statusCode === 200 && result.data) {
                                       document.getElementById("firstName").value = result.data.firstName || "";
                                       document.getElementById("lastName").value = result.data.lastName || "";
                                       document.getElementById("phoneNumber").value = result.data.phone || "";
                                       // If you want to set avatar:
                                       if (result.data.avatarUrl) {
                                         document.getElementById("uploadedAvatar").src = result.data.avatarUrl;
                                       }
                                    }
                                  } catch (e) {
                                    console.error("Failed to fetch user info", e);
                                  }

                                  // Handle Save Changes
                                  document.getElementById("formAccountSettings").addEventListener("submit", async function (e) {
                                    e.preventDefault();
                                    const firstName = document.getElementById("firstName").value;
                                    const lastName = document.getElementById("lastName").value;
                                    const phone = document.getElementById("phoneNumber").value;
                                    try {
                                       const res = await fetch(`http://${changeServer}:8080/api/v1/user/${userAdminId}`, {
                                         method: "PUT",
                                         headers: {
                                           "Content-Type": "application/json"
                                         },
                                         body: JSON.stringify({
                                           firstName,
                                           lastName,
                                           phone
                                         })
                                       });
                                       const data = await res.json();
                                       if (res.ok && data.statusCode === 200) {
                                         showToast("Cập nhật thành công!", true);
                                       } else {
                                         showToast("Cập nhật thất bại!");
                                       }
                                    } catch (err) {
                                       showToast("Có lỗi xảy ra khi cập nhật!");
                                       console.error(err);
                                    }
                                  });
                                });
                              </script>
                              <div class="card-body pt-0" bis_skin_checked="1">
                                <form id="formAccountSettings" method="GET" onsubmit="return false"
                                  class="fv-plugins-bootstrap5 fv-plugins-framework" novalidate="novalidate">
                                  <div class="row mt-1 g-5" bis_skin_checked="1">
                                    <div class="col-md-6 fv-plugins-icon-container" bis_skin_checked="1">
                                       <div class="form-floating form-floating-outline" bis_skin_checked="1">
                                         <input class="form-control" type="text" id="firstName" name="firstName"
                                           value=""/>
                                         <label for="firstName">First Name</label>
                                       </div>
                                       <div
                                         class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"
                                         bis_skin_checked="1"></div>
                                    </div>
                                    <div class="col-md-6 fv-plugins-icon-container" bis_skin_checked="1">
                                       <div class="form-floating form-floating-outline" bis_skin_checked="1">
                                         <input class="form-control" type="text" name="lastName" id="lastName"
                                           value="" />
                                         <label for="lastName">Last Name</label>
                                       </div>
                                       <div
                                         class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"
                                         bis_skin_checked="1"></div>
                                    </div>
                                    <div class="col-md-6" bis_skin_checked="1">
                                       <div class="input-group input-group-merge" bis_skin_checked="1">
                                         <div class="form-floating form-floating-outline" bis_skin_checked="1">
                                           <input type="text" id="phoneNumber" name="phoneNumber" class="form-control"
                                             placeholder="202 555 0111" value="" />
                                           <label for="phoneNumber">Phone Number</label>
                                         </div>
                                        
                                       </div>
                                    </div>
                                  </div>
                                  <div class="mt-6" bis_skin_checked="1">
                                    <button type="submit" class="btn btn-primary me-3 waves-effect waves-light">
                                       Save changes
                                    </button>
                                    <button type="reset" class="btn btn-outline-secondary waves-effect">
                                       Reset
                                    </button>
                                  </div>
                                  <input type="hidden" />
                                </form>
                              </div>
                           <!-- /Account -->
                        </div>
                        <!-- <div class="card" bis_skin_checked="1">
                           <h5 class="card-header">Delete Account</h5>
                           <div class="card-body" bis_skin_checked="1">
                              <form id="formAccountDeactivation" onsubmit="return false"
                                 class="fv-plugins-bootstrap5 fv-plugins-framework" novalidate="novalidate">
                                 <div class="form-check mb-6 ms-3" bis_skin_checked="1">
                                    <input class="form-check-input" type="checkbox" name="accountActivation"
                                       id="accountActivation" />
                                    <label class="form-check-label" for="accountActivation">I confirm my account
                                       deactivation</label>
                                    <div
                                       class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"
                                       bis_skin_checked="1"></div>
                                 </div>
                                 <button type="submit"
                                    class="btn btn-danger deactivate-account waves-effect waves-light"
                                    disabled="disabled">
                                    Deactivate Account
                                 </button>
                                 <input type="hidden" />
                              </form>
                           </div>
                        </div> -->
                     </div>
                  </div>
               </div>
               <!-- / Content -->

               <!-- Footer -->
               <footer class="content-footer footer bg-footer-theme">
                  <div class="container-xxl" bis_skin_checked="1">
                     <div
                        class="footer-container d-flex align-items-center justify-content-between py-4 flex-md-row flex-column"
                        bis_skin_checked="1">
                        <div class="text-body mb-2 mb-md-0" bis_skin_checked="1">
                           ©
                           <script>
                              document.write(new Date().getFullYear());
                           </script>
                           2025, made with
                           <span class="text-danger"><i class="tf-icons ri-heart-fill"></i></span>
                           by
                           <a href="#!" target="_blank" class="footer-link">COZA STORE</a>
                        </div>
                        <!-- <div class="d-none d-lg-inline-block" bis_skin_checked="1">
                           <a href="https://themeselection.com/license/" class="footer-link me-4"
                              target="_blank">License</a>
                           <a href="https://themeselection.com/" target="_blank" class="footer-link me-4">More
                              Themes</a>

                           <a href="https://demos.themeselection.com/materio-bootstrap-html-admin-template/documentation/"
                              target="_blank" class="footer-link me-4">Documentation</a>

                           <a href="https://themeselection.com/support/" target="_blank"
                              class="footer-link d-none d-sm-inline-block">Support</a>
                        </div> -->
                     </div>
                  </div>
               </footer>
               <!-- / Footer -->

               <div class="content-backdrop fade" bis_skin_checked="1"></div>
            </div>
            <!-- Content wrapper -->
         </div>
         <!-- / Layout page -->
      </div>

      <!-- Overlay -->
      <div class="layout-overlay layout-menu-toggle" bis_skin_checked="1"></div>

      <!-- Drag Target Area To SlideIn Menu On Small Screens -->
      <div class="drag-target" style="
               touch-action: pan-y;
               user-select: none;
               -webkit-user-drag: none;
               -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
            " bis_skin_checked="1"></div>
   </div>
   <!-- / Layout wrapper -->


   <!-- Core JS -->
   <!-- build:js assets/vendor/js/core.js -->
   <script src="./assets/js/jquery.js"></script>
   <script src="./assets/js/popper.js"></script>
   <script src="./assets/js/bootstrap.js"></script>
   <script src="./assets/js/node-waves.js"></script>
   <script src="./assets/js/perfect-scrollbar.js"></script>
   <script src="./assets/js/hammer.js"></script>
   <script src="./assets/js/i18n.js"></script>
   <script src="./assets/js/typeahead.js"></script>
   <script src="./assets/js/menu.js"></script>

   <!-- endbuild -->

   <!-- Vendors JS -->
   <script src="./assets/js/select2.js"></script>
   <script src="./assets/js/tagify.js"></script>
   <script src="./assets/js/popular.js"></script>
   <script src="./assets/js/bootstrap5.js"></script>
   <script src="./assets/js/auto-focus.js"></script>
   <script src="./assets/js/cleave.js"></script>
   <script src="./assets/js/cleave-phone.js"></script>
   <script src="./assets/js/sweetalert2.js"></script>
   <script type="text/javascript" id="" charset="">
      console.log("TS:GTM Worked");
   </script>

   <!-- Main JS -->
   <script src="./assets/js/main.js"></script>

   <!-- Page JS -->
   <script src="./assets/js/AccountInfo/pages-account-settings-account.js"></script>



</body>

</html>